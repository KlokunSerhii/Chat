"use strict";(self.webpackChunkchat_front=self.webpackChunkchat_front||[]).push([[23],{9477:function(s,a,e){e.d(a,{m:function(){return r}});var n=e(9434),t=function(s){return s.friends.friendsList},r=function(){return{friendsList:(0,n.v9)(t)}}},2215:function(s,a,e){e.d(a,{W:function(){return n}});var n=e(1608).ZP.connect("https://chat-back-end-6mf9.onrender.com")},4023:function(s,a,e){e.r(a),e.d(a,{default:function(){return ms}});var n=e(3433),t=e(9439),r=e(2791),i=e(7689),c="Chat_ChatBox__5ZAoT",o="Chat_chat__bfife",m="Chat_container__x4T-U",l="Chat_containerChat__Lhq9v",u="Chat_user__evBqE",d="Chat_you__hMvGG",_="Chat_nameUser__vfIBc",h="Chat_nameYou__VZPFa",j="Chat_containerUser__Q1JIv",v="Chat_containerYou__g+1NX",f="Chat_messageContainerYou__CTOXm",x="Chat_messageContainerUser__Mq12M",N="Chat_avatar__bWlGc",p="Chat_infoMessage__Lqgqk",C="Chat_infoMessageUser__QAr08",g="Chat_time__EHUT+",A="Chat_buttonOpen__fwsPF",R="Chat_iconOpen__MJQiV",L=e(833),F={container:"ChatForm_container__vJpgc",input:"ChatForm_input__z6MKn",iconContainer:"ChatForm_iconContainer__GbisE",icon:"ChatForm_icon__-x6XD",iconSend:"ChatForm_iconSend__gZs18",button:"ChatForm_button__51Eh9",containerEmoji:"ChatForm_containerEmoji__mYFHS"},b=e(8820),S=e(184);var M=function(s){var a=s.onSubmit,e=(0,r.useState)(""),n=(0,t.Z)(e,2),i=n[0],c=n[1],o=(0,r.useState)(!1),m=(0,t.Z)(o,2),l=m[0],u=m[1];return(0,S.jsxs)("div",{className:F.container,children:[(0,S.jsx)("div",{className:F.iconContainer,children:(0,S.jsx)("img",{className:F.icon,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAADcklEQVR4nO1ZS0hUURgeLKjoZTsNJQjt/FfT8TXOLrNdUJSt2kQFQpFCj4XmKtMhaJGPFrVpY4vMKRVpEVQwlKJzTsagbsIeWIhMRO3MRzRfnOPb1Dl37nVmpDnwweU8v++c/5z7n/84HImUSIlkOQGOJLzNLAan6+D0FJwGIdhPcDaloL5pEJyeqDqyLhxJsSfeT6kQ5AFnXyEIpsDZF9W2n1KjT7w7Zw8ENUPQhGni/2JC9RVwJkeHvKBTEPTNBuLLwIKy7/Uj7nVsmp11m4nTMtOiJjmWveR9+7ZCsI51Jy/mV6NDjmnfzMvTI2rkaW4luuAr2WxdQDTMRqwmgjXasWFjQ16oVQiBU1lk5Pv37wZnYzEVINR+CMpjO5LZvxt78jSHZnPkeVYKBP2KA+KYxQTesb1mZt8TB6SxDB59x2zGT0FcgbMRLQdQeYphOgtxwmhrGvpuJuPFle0K8lvmyTK722FBRJGO+dSs1cnUm0z01SbjeeW2FSHLZB272mEx/EZVeAHSn1+jk48PUtSAvuqdGH2chsnXmQpyFn1VO1SZrGNXOyyFV0MAGwq3lGPedDX48nyZN9aWbns7zJsQDWqYEPsR8w0rVhXwXWcFpuJYwOR/IEBsfBMaimMBg5aP0cU4W1qMM4fdlnDhqNuMCK/lH9liVB63LqDmtEtfgNaPTMOVmIPnfJFlAXcuFpowIR1XwoQz13ojz7KAzltOe505M+504OFBywLet2XrrkC9FnkzF5rffYRLx1yKSPmhYtS589GSl4NnOdnwZRnoIVKQ3zKvJT8Hde4ClJfM7J3LJ1z4ww37LzRmohGPavJwvyAXPYaBXiItdBsG7hU60VGraz7UZIq8EuDP2KVzqZ9+SeAFesQXQxQQpl/pmA4LRhw3VWEVGdoIM8hYvXkBwdtaMx+C3zgZEfl5ETJWGfZ8Jgyf0yf/oVyR0zl5GiyRNxNaDPkJI1cJvVmrE+/LIoxcmxGsMftdtgV5MZyxRTe4O95O+FRBCJQS/LkzCBwhfK4gjHdqHZcAZ+1yTFvIL10J1qizJ6yFElmD7eH1JUI4lc0+RtgsgAUjjoOaFhFwJtv6xMSpKWpPTCs88tVHFAiTvo2g+pg88q3oAIoDLnCqnj2xBtTNbuGZVd7yBlSZ36iSXmVcPLMmUiI5Nn76C9hjIuCDVgWzAAAAAElFTkSuQmCC",alt:"",onClick:function(){return u(!l)}})}),(0,S.jsxs)("form",{className:F.form,onSubmit:function(s){s.preventDefault(),a({message:i}),c(""),u(!1)},children:[(0,S.jsx)("input",{className:F.input,value:i,name:"message",onChange:function(s){var a=s.target.value;c(a)},placeholder:"write a message"}),(0,S.jsx)("button",{className:F.button,type:"submit",children:(0,S.jsx)(b.gYb,{className:F.iconSend})}),l&&(0,S.jsx)("div",{className:F.containerEmoji,children:(0,S.jsx)(L.ZP,{onEmojiClick:function(s){var a=s.emoji;c((function(s){return s+a}))},height:400,width:"100%",autoFocusSearch:!1})})]})]})},E=e(6067),Z=e(6036),w=e(2215),J=e(3264),V=e(9434),I="RoomList_containerRoomMobile__ncYS3",O="RoomList_containerRoom__EIQbR",T="RoomList_roomOnline__sFR6+",U="RoomList_room__ioCOV",k="RoomList_users__r0lL2",y="RoomList_roomList__+8-2C",B="RoomList_roomItemMobile__TJIVd",P="RoomList_roomItem__UWtWk",Q="RoomList_avatarRoom__ekGSB",z="RoomList_roomOnlineMobile__ztj20",G="RoomList_roomMobile__gkyrH",W="RoomList_usersMobile__5XUOW",K="RoomList_nameMobile__Myqhp",X="RoomList_btnAdd__2rxVP",q="RoomList_nameUser__UOku3",D="RoomList_userContainer__NJBif",Y="RoomList_btnContainer__11TqY",H=e(9421),$=e(9092),ss=e(9477),as=e(1686),es=e.n(as),ns=e(3796);var ts=function(s){var a=s.isOpen,e=s.params,n=(0,r.useState)(0),i=(0,t.Z)(n,2),c=i[0],o=i[1],m=(0,r.useState)(""),l=(0,t.Z)(m,2),u=l[0],d=l[1],_=(0,H.a)().user,h=(0,ss.m)().friendsList,j=es().Notify,v=(0,V.I0)();(0,r.useEffect)((function(){w.W.on("room",(function(s){var a=s.data.users;o(a.length),d(a)}))}),[]);var f=function(s,a){var e=h.map((function(s){return s.name})).filter((function(a){return a===s})),n=_._id;if(e&&e.length>0)return j.info("The user is already added to the friends list",ns.Y);v((0,$.SK)({name:s,avatarURL:a,_id:n})),j.success("Friend add",ns.Y)};return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("div",{className:O,children:[(0,S.jsxs)("div",{className:T,children:[(0,S.jsxs)("p",{className:U,children:["Room: ",e.room]}),(0,S.jsxs)("p",{className:k,children:["Users online: ",c]})]}),(0,S.jsx)("ul",{className:y,children:u&&u.map((function(s,a){var e=s.name,n=s.avatar;return(0,S.jsxs)("li",{className:P,children:[(0,S.jsxs)("div",{className:D,children:[(0,S.jsx)("img",{className:Q,src:n,alt:"avatar"}),(0,S.jsx)("p",{className:q,children:e})]}),(0,S.jsx)("div",{className:Y,children:_.name!==e&&(0,S.jsx)("button",{className:X,onClick:function(){return f(e,n)},children:(0,S.jsx)(b.Zev,{})})})]},a)}))})]}),a&&(0,S.jsxs)("div",{className:I,children:[(0,S.jsxs)("div",{className:z,children:[(0,S.jsxs)("p",{className:G,children:["Room: ",e.room]}),(0,S.jsxs)("p",{className:W,children:["Users online: ",c]})]}),(0,S.jsx)("ul",{className:y,children:u&&u.map((function(s,a){var e=s.name,n=s.avatar;return(0,S.jsxs)("li",{className:B,children:[(0,S.jsxs)("div",{className:D,children:[(0,S.jsx)("img",{className:Q,src:n,alt:"avatar"}),(0,S.jsx)("p",{className:K,children:e})]}),(0,S.jsx)("div",{className:Y,children:_.name!==e&&(0,S.jsx)("button",{className:X,onClick:f(e,n),children:(0,S.jsx)(b.Zev,{})})})]},a)}))})]})]})},rs=function(s){return s.message.items};var is=function(s){var a=s.params,e={items:(0,V.v9)(rs)}.items;return(0,S.jsx)(S.Fragment,{children:e.map((function(s,e){var n=s.user,t=s.message,r=n.avatar?n.avatar:E;return n.name===a.name?(0,S.jsxs)("div",{className:v,children:[(0,S.jsx)("img",{src:r,alt:"avatar",className:N}),(0,S.jsxs)("div",{className:f,children:[(0,S.jsx)("p",{className:d,children:t}),(0,S.jsxs)("div",{className:p,children:[(0,S.jsx)("p",{className:g}),(0,S.jsx)("p",{className:h,children:n.name})]})]})]},e):(0,S.jsxs)("div",{className:j,children:[(0,S.jsx)("img",{src:r,alt:"avatar",className:N}),(0,S.jsxs)("div",{className:x,children:[(0,S.jsx)("p",{className:u,children:t}),(0,S.jsxs)("div",{className:C,children:[(0,S.jsx)("p",{className:g}),(0,S.jsx)("p",{className:_,children:n.name})]})]})]},e)}))})};var cs=function(s){var a=s.state,e=s.params;return(0,S.jsx)(S.Fragment,{children:a.map((function(s,a){var n=s.user,t=s.message,r=n.avatar?n.avatar:E;return n.name===e.name?(0,S.jsxs)("div",{className:v,children:[(0,S.jsx)("img",{src:r,alt:"avatar",className:N}),(0,S.jsxs)("div",{className:f,children:[(0,S.jsx)("p",{className:d,children:t}),(0,S.jsxs)("div",{className:p,children:[(0,S.jsx)("p",{className:g}),(0,S.jsx)("p",{className:h,children:n.name})]})]})]},a):(0,S.jsxs)("div",{className:j,children:[(0,S.jsx)("img",{src:r,alt:"avatar",className:N}),(0,S.jsxs)("div",{className:x,children:[(0,S.jsx)("p",{className:u,children:t}),(0,S.jsxs)("div",{className:C,children:[(0,S.jsx)("p",{className:g}),(0,S.jsx)("p",{className:_,children:n.name})]})]})]},a)}))})},os=function(){var s=(0,r.useRef)(null),a=(0,r.useState)(!1),e=(0,t.Z)(a,2),u=e[0],d=e[1],_=(0,r.useState)([]),h=(0,t.Z)(_,2),j=h[0],v=h[1],f=(0,i.TH)().search,x=(0,r.useState)({room:"",user:"",avatar:E}),N=(0,t.Z)(x,2),p=N[0],C=N[1],g=(0,V.I0)();(0,r.useEffect)((function(){p.room&&g((0,J._)(p.room))}),[g,p.room]),(0,r.useEffect)((function(){var s=Object.fromEntries(new URLSearchParams(f));C(s),w.W.emit("join",s)}),[f]),(0,r.useEffect)((function(){w.W.on("message",(function(s){var a=s.data;v((function(s){return[].concat((0,n.Z)(s),[a])}))}))}),[]),(0,r.useEffect)((function(){w.W.on("message",(function(s){var a=s.data;g((0,J.z)({params:p,data:a}))}))}),[g,p]),(0,r.useEffect)((function(){L()}),[j]);var L=function(){s.current.scrollIntoView({behavior:"smooth"})};return(0,S.jsxs)("div",{className:o,children:[(0,S.jsxs)("button",{type:"button",className:A,onClick:function(){d(!u)},children:[(0,S.jsx)(Z.cKp,{className:R}),"Online"]}),(0,S.jsxs)("div",{className:c,children:[(0,S.jsx)("div",{className:m,children:(0,S.jsxs)("div",{className:l,children:[(0,S.jsx)(is,{params:p}),(0,S.jsx)(cs,{state:j,params:p}),(0,S.jsx)("div",{ref:s})]})}),(0,S.jsx)(ts,{isOpen:u,params:p})]}),(0,S.jsx)(M,{onSubmit:function(s){var a=s.message;a&&w.W.emit("send",{message:a,params:p})}})]})};var ms=function(){return(0,S.jsx)("div",{children:(0,S.jsx)(os,{})})}},6067:function(s,a,e){s.exports=e.p+"static/media/bot.5e07e4ff49733c98e02b.jpg"}}]);
//# sourceMappingURL=23.30bcf665.chunk.js.map