"use strict";(self.webpackChunkchat_front=self.webpackChunkchat_front||[]).push([[23],{9477:function(s,a,e){e.d(a,{m:function(){return i}});var n=e(9434),t=function(s){return s.friends.friendsList},i=function(){return{friendsList:(0,n.v9)(t)}}},2215:function(s,a,e){e.d(a,{W:function(){return n}});var n=e(1608).ZP.connect("https://chat-back-end-6mf9.onrender.com")},4023:function(s,a,e){e.r(a),e.d(a,{default:function(){return ms}});var n=e(3433),t=e(9439),i=e(2791),r=e(7689),c="Chat_ChatBox__wWy5T",o="Chat_chat__Gsxzx",m="Chat_container__yskll",l="Chat_containerChat__Pjv8e",u="Chat_user__sRbH4",d="Chat_you__phQvY",_="Chat_nameUser__nFTjx",h="Chat_nameYou__QxwPX",j="Chat_containerUser__iGmzi",v="Chat_containerYou__Ag1bP",x="Chat_messageContainerYou__47H4W",f="Chat_messageContainerUser__lGNQ7",N="Chat_avatar__Ts9E4",p="Chat_infoMessage__pu6Ts",C="Chat_infoMessageUser__YZ2m0",A="Chat_time__V3Q0l",g="Chat_buttonOpen__Q3xTb",R="Chat_iconOpen__WJ3Sh",L=e(833),b={container:"ChatForm_container__etVuE",input:"ChatForm_input__4TYEQ",iconContainer:"ChatForm_iconContainer__R2pH9",icon:"ChatForm_icon__CKdyi",iconSend:"ChatForm_iconSend__0zQ13",button:"ChatForm_button__b3fJc",containerEmoji:"ChatForm_containerEmoji__QP4Ky"},F=e(8820),S=e(184);var Z=function(s){var a=s.onSubmit,e=(0,i.useState)(""),n=(0,t.Z)(e,2),r=n[0],c=n[1],o=(0,i.useState)(!1),m=(0,t.Z)(o,2),l=m[0],u=m[1];return(0,S.jsxs)("div",{className:b.container,children:[(0,S.jsx)("div",{className:b.iconContainer,children:(0,S.jsx)("img",{className:b.icon,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAADcklEQVR4nO1ZS0hUURgeLKjoZTsNJQjt/FfT8TXOLrNdUJSt2kQFQpFCj4XmKtMhaJGPFrVpY4vMKRVpEVQwlKJzTsagbsIeWIhMRO3MRzRfnOPb1Dl37nVmpDnwweU8v++c/5z7n/84HImUSIlkOQGOJLzNLAan6+D0FJwGIdhPcDaloL5pEJyeqDqyLhxJsSfeT6kQ5AFnXyEIpsDZF9W2n1KjT7w7Zw8ENUPQhGni/2JC9RVwJkeHvKBTEPTNBuLLwIKy7/Uj7nVsmp11m4nTMtOiJjmWveR9+7ZCsI51Jy/mV6NDjmnfzMvTI2rkaW4luuAr2WxdQDTMRqwmgjXasWFjQ16oVQiBU1lk5Pv37wZnYzEVINR+CMpjO5LZvxt78jSHZnPkeVYKBP2KA+KYxQTesb1mZt8TB6SxDB59x2zGT0FcgbMRLQdQeYphOgtxwmhrGvpuJuPFle0K8lvmyTK722FBRJGO+dSs1cnUm0z01SbjeeW2FSHLZB272mEx/EZVeAHSn1+jk48PUtSAvuqdGH2chsnXmQpyFn1VO1SZrGNXOyyFV0MAGwq3lGPedDX48nyZN9aWbns7zJsQDWqYEPsR8w0rVhXwXWcFpuJYwOR/IEBsfBMaimMBg5aP0cU4W1qMM4fdlnDhqNuMCK/lH9liVB63LqDmtEtfgNaPTMOVmIPnfJFlAXcuFpowIR1XwoQz13ojz7KAzltOe505M+504OFBywLet2XrrkC9FnkzF5rffYRLx1yKSPmhYtS589GSl4NnOdnwZRnoIVKQ3zKvJT8Hde4ClJfM7J3LJ1z4ww37LzRmohGPavJwvyAXPYaBXiItdBsG7hU60VGraz7UZIq8EuDP2KVzqZ9+SeAFesQXQxQQpl/pmA4LRhw3VWEVGdoIM8hYvXkBwdtaMx+C3zgZEfl5ETJWGfZ8Jgyf0yf/oVyR0zl5GiyRNxNaDPkJI1cJvVmrE+/LIoxcmxGsMftdtgV5MZyxRTe4O95O+FRBCJQS/LkzCBwhfK4gjHdqHZcAZ+1yTFvIL10J1qizJ6yFElmD7eH1JUI4lc0+RtgsgAUjjoOaFhFwJtv6xMSpKWpPTCs88tVHFAiTvo2g+pg88q3oAIoDLnCqnj2xBtTNbuGZVd7yBlSZ36iSXmVcPLMmUiI5Nn76C9hjIuCDVgWzAAAAAElFTkSuQmCC",alt:"",onClick:function(){return u(!l)}})}),(0,S.jsxs)("form",{className:b.form,onSubmit:function(s){s.preventDefault(),a({message:r}),c(""),u(!1)},children:[(0,S.jsx)("input",{className:b.input,value:r,name:"message",onChange:function(s){var a=s.target.value;c(a)},placeholder:"write a message"}),(0,S.jsx)("button",{className:b.button,type:"submit",children:(0,S.jsx)(F.gYb,{className:b.iconSend})}),l&&(0,S.jsx)("div",{className:b.containerEmoji,children:(0,S.jsx)(L.ZP,{onEmojiClick:function(s){var a=s.emoji;c((function(s){return s+a}))},height:400,width:"100%",autoFocusSearch:!1})})]})]})},E=e(6067),w=e(6036),Q=e(2215),J=e(3264),V=e(9434),M="RoomList_containerRoomMobile__qRbfk",T="RoomList_containerRoom__1EPWE",y="RoomList_roomOnline__yoi6g",I="RoomList_room__Q70Pp",P="RoomList_users__1y9q6",z="RoomList_roomList__plSl3",K="RoomList_roomItemMobile__QfLgY",O="RoomList_roomItem__UXKio",k="RoomList_avatarRoom__K5kf4",U="RoomList_roomOnlineMobile__K+XzZ",W="RoomList_roomMobile__VKKeZ",B="RoomList_usersMobile__-vqZJ",G="RoomList_nameMobile__IJEeZ",X="RoomList_btnAdd__QSz39",Y="RoomList_nameUser__+YZEX",D="RoomList_userContainer__zWQ9x",q="RoomList_btnContainer__nRA0q",H=e(9421),$=e(9092),ss=e(9477),as=e(1686),es=e.n(as),ns=e(3796);var ts=function(s){var a=s.isOpen,e=s.params,n=(0,i.useState)(0),r=(0,t.Z)(n,2),c=r[0],o=r[1],m=(0,i.useState)(""),l=(0,t.Z)(m,2),u=l[0],d=l[1],_=(0,H.a)().user,h=(0,ss.m)().friendsList,j=es().Notify,v=(0,V.I0)();(0,i.useEffect)((function(){Q.W.on("room",(function(s){var a=s.data.users;o(a.length),d(a)}))}),[]);var x=function(s,a){var e=h.map((function(s){return s.name})).filter((function(a){return a===s})),n=_._id;if(e&&e.length>0)return j.info("The user is already added to the friends list",ns.Y);v((0,$.SK)({name:s,avatarURL:a,_id:n})),j.success("Friend add",ns.Y)};return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("div",{className:T,children:[(0,S.jsxs)("div",{className:y,children:[(0,S.jsxs)("p",{className:I,children:["Room: ",e.room]}),(0,S.jsxs)("p",{className:P,children:["Users online: ",c]})]}),(0,S.jsx)("ul",{className:z,children:u&&u.map((function(s,a){var e=s.name,n=s.avatar;return(0,S.jsxs)("li",{className:O,children:[(0,S.jsxs)("div",{className:D,children:[(0,S.jsx)("img",{className:k,src:n,alt:"avatar"}),(0,S.jsx)("p",{className:Y,children:e})]}),(0,S.jsx)("div",{className:q,children:_.name!==e&&(0,S.jsx)("button",{className:X,onClick:function(){return x(e,n)},children:(0,S.jsx)(F.Zev,{})})})]},a)}))})]}),a&&(0,S.jsxs)("div",{className:M,children:[(0,S.jsxs)("div",{className:U,children:[(0,S.jsxs)("p",{className:W,children:["Room: ",e.room]}),(0,S.jsxs)("p",{className:B,children:["Users online: ",c]})]}),(0,S.jsx)("ul",{className:z,children:u&&u.map((function(s,a){var e=s.name,n=s.avatar;return(0,S.jsxs)("li",{className:K,children:[(0,S.jsxs)("div",{className:D,children:[(0,S.jsx)("img",{className:k,src:n,alt:"avatar"}),(0,S.jsx)("p",{className:G,children:e})]}),(0,S.jsx)("div",{className:q,children:_.name!==e&&(0,S.jsx)("button",{className:X,onClick:x(e,n),children:(0,S.jsx)(F.Zev,{})})})]},a)}))})]})]})},is=function(s){return s.message.items};var rs=function(s){var a=s.params,e={items:(0,V.v9)(is)}.items;return(0,S.jsx)(S.Fragment,{children:e.map((function(s,e){var n=s.user,t=s.message,i=n.avatar?n.avatar:E;return n.name===a.name?(0,S.jsxs)("div",{className:v,children:[(0,S.jsx)("img",{src:i,alt:"avatar",className:N}),(0,S.jsxs)("div",{className:x,children:[(0,S.jsx)("p",{className:d,children:t}),(0,S.jsxs)("div",{className:p,children:[(0,S.jsx)("p",{className:A}),(0,S.jsx)("p",{className:h,children:n.name})]})]})]},e):(0,S.jsxs)("div",{className:j,children:[(0,S.jsx)("img",{src:i,alt:"avatar",className:N}),(0,S.jsxs)("div",{className:f,children:[(0,S.jsx)("p",{className:u,children:t}),(0,S.jsxs)("div",{className:C,children:[(0,S.jsx)("p",{className:A}),(0,S.jsx)("p",{className:_,children:n.name})]})]})]},e)}))})};var cs=function(s){var a=s.state,e=s.params;return(0,S.jsx)(S.Fragment,{children:a.map((function(s,a){var n=s.user,t=s.message,i=n.avatar?n.avatar:E;return n.name===e.name?(0,S.jsxs)("div",{className:v,children:[(0,S.jsx)("img",{src:i,alt:"avatar",className:N}),(0,S.jsxs)("div",{className:x,children:[(0,S.jsx)("p",{className:d,children:t}),(0,S.jsxs)("div",{className:p,children:[(0,S.jsx)("p",{className:A}),(0,S.jsx)("p",{className:h,children:n.name})]})]})]},a):(0,S.jsxs)("div",{className:j,children:[(0,S.jsx)("img",{src:i,alt:"avatar",className:N}),(0,S.jsxs)("div",{className:f,children:[(0,S.jsx)("p",{className:u,children:t}),(0,S.jsxs)("div",{className:C,children:[(0,S.jsx)("p",{className:A}),(0,S.jsx)("p",{className:_,children:n.name})]})]})]},a)}))})},os=function(){var s=(0,i.useRef)(null),a=(0,i.useState)(!1),e=(0,t.Z)(a,2),u=e[0],d=e[1],_=(0,i.useState)([]),h=(0,t.Z)(_,2),j=h[0],v=h[1],x=(0,r.TH)().search,f=(0,i.useState)({room:"",user:"",avatar:E}),N=(0,t.Z)(f,2),p=N[0],C=N[1],A=(0,V.I0)();(0,i.useEffect)((function(){p.room&&A((0,J._)(p.room))}),[A,p.room]),(0,i.useEffect)((function(){var s=Object.fromEntries(new URLSearchParams(x));C(s),Q.W.emit("join",s)}),[x]),(0,i.useEffect)((function(){Q.W.on("message",(function(s){var a=s.data;v((function(s){return[].concat((0,n.Z)(s),[a])}))}))}),[]),(0,i.useEffect)((function(){Q.W.on("message",(function(s){var a=s.data;A((0,J.z)({params:p,data:a}))}))}),[A,p]),(0,i.useEffect)((function(){L()}),[j]);var L=function(){s.current.scrollIntoView({behavior:"smooth"})};return(0,S.jsxs)("div",{className:o,children:[(0,S.jsxs)("button",{type:"button",className:g,onClick:function(){d(!u)},children:[(0,S.jsx)(w.cKp,{className:R}),"Online"]}),(0,S.jsxs)("div",{className:c,children:[(0,S.jsx)("div",{className:m,children:(0,S.jsxs)("div",{className:l,children:[(0,S.jsx)(rs,{params:p}),(0,S.jsx)(cs,{state:j,params:p}),(0,S.jsx)("div",{ref:s})]})}),(0,S.jsx)(ts,{isOpen:u,params:p})]}),(0,S.jsx)(Z,{onSubmit:function(s){var a=s.message;a&&Q.W.emit("send",{message:a,params:p})}})]})};var ms=function(){return(0,S.jsx)("div",{children:(0,S.jsx)(os,{})})}},6067:function(s,a,e){s.exports=e.p+"static/media/bot.5e07e4ff49733c98e02b.jpg"}}]);
//# sourceMappingURL=23.7b58cf19.chunk.js.map