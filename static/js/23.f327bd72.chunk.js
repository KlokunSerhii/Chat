"use strict";(self.webpackChunkchat_front=self.webpackChunkchat_front||[]).push([[23],{2215:function(s,a,e){e.d(a,{W:function(){return n}});var n=e(1608).ZP.connect("https://chat-back-end-6mf9.onrender.com")},4023:function(s,a,e){e.r(a),e.d(a,{default:function(){return rs}});var n=e(3433),t=e(9439),i=e(2791),r=e(7689),o="Chat_ChatBox__wWy5T",c="Chat_chat__Gsxzx",m="Chat_container__yskll",l="Chat_containerChat__Pjv8e",_="Chat_user__sRbH4",u="Chat_you__phQvY",h="Chat_nameUser__nFTjx",d="Chat_nameYou__QxwPX",j="Chat_containerUser__iGmzi",x="Chat_containerYou__Ag1bP",v="Chat_messageContainerYou__47H4W",f="Chat_messageContainerUser__lGNQ7",N="Chat_avatar__Ts9E4",p="Chat_infoMessage__pu6Ts",C="Chat_infoMessageUser__YZ2m0",g="Chat_time__V3Q0l",A="Chat_buttonOpen__Q3xTb",R="Chat_iconOpen__WJ3Sh",L=e(833),b={container:"ChatForm_container__etVuE",input:"ChatForm_input__4TYEQ",iconContainer:"ChatForm_iconContainer__R2pH9",icon:"ChatForm_icon__CKdyi",iconSend:"ChatForm_iconSend__0zQ13",button:"ChatForm_button__b3fJc",containerEmoji:"ChatForm_containerEmoji__QP4Ky"},S=e(8820),E=e(184);var F=function(s){var a=s.onSubmit,e=(0,i.useState)(""),n=(0,t.Z)(e,2),r=n[0],o=n[1],c=(0,i.useState)(!1),m=(0,t.Z)(c,2),l=m[0],_=m[1];return(0,E.jsxs)("div",{className:b.container,children:[(0,E.jsx)("div",{className:b.iconContainer,children:(0,E.jsx)("img",{className:b.icon,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAADcklEQVR4nO1ZS0hUURgeLKjoZTsNJQjt/FfT8TXOLrNdUJSt2kQFQpFCj4XmKtMhaJGPFrVpY4vMKRVpEVQwlKJzTsagbsIeWIhMRO3MRzRfnOPb1Dl37nVmpDnwweU8v++c/5z7n/84HImUSIlkOQGOJLzNLAan6+D0FJwGIdhPcDaloL5pEJyeqDqyLhxJsSfeT6kQ5AFnXyEIpsDZF9W2n1KjT7w7Zw8ENUPQhGni/2JC9RVwJkeHvKBTEPTNBuLLwIKy7/Uj7nVsmp11m4nTMtOiJjmWveR9+7ZCsI51Jy/mV6NDjmnfzMvTI2rkaW4luuAr2WxdQDTMRqwmgjXasWFjQ16oVQiBU1lk5Pv37wZnYzEVINR+CMpjO5LZvxt78jSHZnPkeVYKBP2KA+KYxQTesb1mZt8TB6SxDB59x2zGT0FcgbMRLQdQeYphOgtxwmhrGvpuJuPFle0K8lvmyTK722FBRJGO+dSs1cnUm0z01SbjeeW2FSHLZB272mEx/EZVeAHSn1+jk48PUtSAvuqdGH2chsnXmQpyFn1VO1SZrGNXOyyFV0MAGwq3lGPedDX48nyZN9aWbns7zJsQDWqYEPsR8w0rVhXwXWcFpuJYwOR/IEBsfBMaimMBg5aP0cU4W1qMM4fdlnDhqNuMCK/lH9liVB63LqDmtEtfgNaPTMOVmIPnfJFlAXcuFpowIR1XwoQz13ojz7KAzltOe505M+504OFBywLet2XrrkC9FnkzF5rffYRLx1yKSPmhYtS589GSl4NnOdnwZRnoIVKQ3zKvJT8Hde4ClJfM7J3LJ1z4ww37LzRmohGPavJwvyAXPYaBXiItdBsG7hU60VGraz7UZIq8EuDP2KVzqZ9+SeAFesQXQxQQpl/pmA4LRhw3VWEVGdoIM8hYvXkBwdtaMx+C3zgZEfl5ETJWGfZ8Jgyf0yf/oVyR0zl5GiyRNxNaDPkJI1cJvVmrE+/LIoxcmxGsMftdtgV5MZyxRTe4O95O+FRBCJQS/LkzCBwhfK4gjHdqHZcAZ+1yTFvIL10J1qizJ6yFElmD7eH1JUI4lc0+RtgsgAUjjoOaFhFwJtv6xMSpKWpPTCs88tVHFAiTvo2g+pg88q3oAIoDLnCqnj2xBtTNbuGZVd7yBlSZ36iSXmVcPLMmUiI5Nn76C9hjIuCDVgWzAAAAAElFTkSuQmCC",alt:"",onClick:function(){return _(!l)}})}),(0,E.jsxs)("form",{className:b.form,onSubmit:function(s){s.preventDefault(),a({message:r}),o(""),_(!1)},children:[(0,E.jsx)("input",{className:b.input,value:r,name:"message",onChange:function(s){var a=s.target.value;o(a)},placeholder:"write a message"}),(0,E.jsx)("button",{className:b.button,type:"submit",children:(0,E.jsx)(S.gYb,{className:b.iconSend})}),l&&(0,E.jsx)("div",{className:b.containerEmoji,children:(0,E.jsx)(L.ZP,{onEmojiClick:function(s){var a=s.emoji;o((function(s){return s+a}))},height:400,width:"100%",autoFocusSearch:!1})})]})]})},Z=e(6067),w=e(6036),Q=e(2215),J=e(3264),M=e(9434),V="RoomList_containerRoomMobile__qRbfk",I="RoomList_containerRoom__1EPWE",T="RoomList_roomOnline__yoi6g",P="RoomList_room__Q70Pp",y="RoomList_users__1y9q6",z="RoomList_roomList__plSl3",K="RoomList_roomItemMobile__QfLgY",O="RoomList_roomItem__UXKio",k="RoomList_avatarRoom__K5kf4",U="RoomList_roomOnlineMobile__K+XzZ",W="RoomList_roomMobile__VKKeZ",X="RoomList_usersMobile__-vqZJ",B="RoomList_nameMobile__IJEeZ",G="RoomList_btnAdd__QSz39",D="RoomList_btnDelete__00n+x",Y="RoomList_nameUser__+YZEX",q="RoomList_userContainer__zWQ9x",H="RoomList_btnContainer__nRA0q",$=e(9421),ss=e(9092);var as=function(s){var a=s.isOpen,e=s.params,n=(0,i.useState)(0),r=(0,t.Z)(n,2),o=r[0],c=r[1],m=(0,i.useState)(""),l=(0,t.Z)(m,2),_=l[0],u=l[1],h=(0,$.a)().user,d=(0,M.I0)();(0,i.useEffect)((function(){Q.W.on("room",(function(s){var a=s.data.users;c(a.length),u(a)}))}),[]);var j=function(s,a){var e=h._id;console.log(h),console.log(e),d((0,ss.SK)({name:s,avatarURL:a,_id:e})),console.log("\u0434\u043e\u0434\u0430\u0442\u0438")};return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)("div",{className:I,children:[(0,E.jsxs)("div",{className:T,children:[(0,E.jsxs)("p",{className:P,children:["Room: ",e.room]}),(0,E.jsxs)("p",{className:y,children:["Users online: ",o]})]}),(0,E.jsx)("ul",{className:z,children:_&&_.map((function(s,a){var e=s.name,n=s.avatar;return(0,E.jsxs)("li",{className:O,children:[(0,E.jsxs)("div",{className:q,children:[(0,E.jsx)("img",{className:k,src:n,alt:"avatar"}),(0,E.jsx)("p",{className:Y,children:e})]}),(0,E.jsxs)("div",{className:H,children:[h.name!==e&&(0,E.jsx)("button",{className:G,onClick:j(e,n),children:(0,E.jsx)(S.Zev,{})}),h.name!==e&&(0,E.jsx)("button",{className:D,onClick:function(){return console.log("\u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438")},children:(0,E.jsx)(S.IXM,{})})]})]},a)}))})]}),a&&(0,E.jsxs)("div",{className:V,children:[(0,E.jsxs)("div",{className:U,children:[(0,E.jsxs)("p",{className:W,children:["Room: ",e.room]}),(0,E.jsxs)("p",{className:X,children:["Users online: ",o]})]}),(0,E.jsx)("ul",{className:z,children:_&&_.map((function(s,a){var e=s.name,n=s.avatar;return(0,E.jsxs)("li",{className:K,children:[(0,E.jsx)("img",{className:k,src:n,alt:"avatar"}),(0,E.jsx)("p",{className:B,children:e})]},a)}))})]})]})},es=function(s){return s.message.items};var ns=function(s){var a=s.params,e={items:(0,M.v9)(es)}.items;return(0,E.jsx)(E.Fragment,{children:e.map((function(s,e){var n=s.user,t=s.message,i=n.avatar?n.avatar:Z;return n.name===a.name?(0,E.jsxs)("div",{className:x,children:[(0,E.jsx)("img",{src:i,alt:"avatar",className:N}),(0,E.jsxs)("div",{className:v,children:[(0,E.jsx)("p",{className:u,children:t}),(0,E.jsxs)("div",{className:p,children:[(0,E.jsx)("p",{className:g}),(0,E.jsx)("p",{className:d,children:n.name})]})]})]},e):(0,E.jsxs)("div",{className:j,children:[(0,E.jsx)("img",{src:i,alt:"avatar",className:N}),(0,E.jsxs)("div",{className:f,children:[(0,E.jsx)("p",{className:_,children:t}),(0,E.jsxs)("div",{className:C,children:[(0,E.jsx)("p",{className:g}),(0,E.jsx)("p",{className:h,children:n.name})]})]})]},e)}))})};var ts=function(s){var a=s.state,e=s.params;return(0,E.jsx)(E.Fragment,{children:a.map((function(s,a){var n=s.user,t=s.message,i=n.avatar?n.avatar:Z;return n.name===e.name?(0,E.jsxs)("div",{className:x,children:[(0,E.jsx)("img",{src:i,alt:"avatar",className:N}),(0,E.jsxs)("div",{className:v,children:[(0,E.jsx)("p",{className:u,children:t}),(0,E.jsxs)("div",{className:p,children:[(0,E.jsx)("p",{className:g}),(0,E.jsx)("p",{className:d,children:n.name})]})]})]},a):(0,E.jsxs)("div",{className:j,children:[(0,E.jsx)("img",{src:i,alt:"avatar",className:N}),(0,E.jsxs)("div",{className:f,children:[(0,E.jsx)("p",{className:_,children:t}),(0,E.jsxs)("div",{className:C,children:[(0,E.jsx)("p",{className:g}),(0,E.jsx)("p",{className:h,children:n.name})]})]})]},a)}))})},is=function(){var s=(0,i.useRef)(null),a=(0,i.useState)(!1),e=(0,t.Z)(a,2),_=e[0],u=e[1],h=(0,i.useState)([]),d=(0,t.Z)(h,2),j=d[0],x=d[1],v=(0,r.TH)().search,f=(0,i.useState)({room:"",user:"",avatar:Z}),N=(0,t.Z)(f,2),p=N[0],C=N[1],g=(0,M.I0)();(0,i.useEffect)((function(){p.room&&g((0,J._)(p.room))}),[g,p.room]),(0,i.useEffect)((function(){var s=Object.fromEntries(new URLSearchParams(v));C(s),Q.W.emit("join",s)}),[v]),(0,i.useEffect)((function(){Q.W.on("message",(function(s){var a=s.data;x((function(s){return[].concat((0,n.Z)(s),[a])}))}))}),[]),(0,i.useEffect)((function(){Q.W.on("message",(function(s){var a=s.data;g((0,J.z)({params:p,data:a}))}))}),[g,p]),(0,i.useEffect)((function(){L()}),[j]);var L=function(){s.current.scrollIntoView({behavior:"smooth"})};return(0,E.jsxs)("div",{className:c,children:[(0,E.jsxs)("button",{type:"button",className:A,onClick:function(){u(!_)},children:[(0,E.jsx)(w.cKp,{className:R}),"Online"]}),(0,E.jsxs)("div",{className:o,children:[(0,E.jsx)("div",{className:m,children:(0,E.jsxs)("div",{className:l,children:[(0,E.jsx)(ns,{params:p}),(0,E.jsx)(ts,{state:j,params:p}),(0,E.jsx)("div",{ref:s})]})}),(0,E.jsx)(as,{isOpen:_,params:p})]}),(0,E.jsx)(F,{onSubmit:function(s){var a=s.message;a&&Q.W.emit("send",{message:a,params:p})}})]})};var rs=function(){return(0,E.jsx)("div",{children:(0,E.jsx)(is,{})})}},6067:function(s,a,e){s.exports=e.p+"static/media/bot.5e07e4ff49733c98e02b.jpg"}}]);
//# sourceMappingURL=23.f327bd72.chunk.js.map