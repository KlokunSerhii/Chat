"use strict";(self.webpackChunkchat_front=self.webpackChunkchat_front||[]).push([[332],{2215:function(a,s,e){e.d(s,{W:function(){return n}});var n=e(1608).ZP.connect("https://chat-back-end-6mf9.onrender.com")},7332:function(a,s,e){e.r(s),e.d(s,{default:function(){return $}});var n=e(3433),t=e(9439),r=e(2791),c=e(7689),i="Chat_ChatBox__wWy5T",m="Chat_chat__Gsxzx",o="Chat_container__yskll",l="Chat_containerChat__Pjv8e",h="Chat_containerRoom__02Onl",u="Chat_user__sRbH4",_="Chat_you__phQvY",d="Chat_nameUser__nFTjx",j="Chat_nameYou__QxwPX",x="Chat_containerUser__iGmzi",v="Chat_containerYou__Ag1bP",f="Chat_messageContainerYou__47H4W",N="Chat_messageContainerUser__lGNQ7",p="Chat_avatar__Ts9E4",C="Chat_avatarRoom__ubMsI",A="Chat_roomList__QIECw",g="Chat_infoMessage__pu6Ts",F="Chat_infoMessageUser__YZ2m0",w="Chat_time__V3Q0l",E="Chat_room__q3yl3",b="Chat_users__lyQF6",S="Chat_roomOnline__l6-J0",R="Chat_roomItem__kQaRH",J="Chat_containerRoomMobile__6eDC8",Q="Chat_roomMobile__BgXrR",M="Chat_usersMobile__9EnJj",V="Chat_roomOnlineMobile__INRki",Z="Chat_nameMobile__E94lF",I="Chat_roomItemMobile__3uVHr",T="Chat_buttonOpen__Q3xTb",y="Chat_iconOpen__WJ3Sh",O=e(833),P={container:"ChatForm_container__etVuE",input:"ChatForm_input__4TYEQ",iconContainer:"ChatForm_iconContainer__R2pH9",icon:"ChatForm_icon__CKdyi",iconSend:"ChatForm_iconSend__0zQ13",button:"ChatForm_button__b3fJc",containerEmoji:"ChatForm_containerEmoji__QP4Ky"},z=e(8820),k=e(184);var B=function(a){var s=a.onSubmit,e=(0,r.useState)(""),n=(0,t.Z)(e,2),c=n[0],i=n[1],m=(0,r.useState)(!1),o=(0,t.Z)(m,2),l=o[0],h=o[1];return(0,k.jsxs)("div",{className:P.container,children:[(0,k.jsx)("div",{className:P.iconContainer,children:(0,k.jsx)("img",{className:P.icon,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAADcklEQVR4nO1ZS0hUURgeLKjoZTsNJQjt/FfT8TXOLrNdUJSt2kQFQpFCj4XmKtMhaJGPFrVpY4vMKRVpEVQwlKJzTsagbsIeWIhMRO3MRzRfnOPb1Dl37nVmpDnwweU8v++c/5z7n/84HImUSIlkOQGOJLzNLAan6+D0FJwGIdhPcDaloL5pEJyeqDqyLhxJsSfeT6kQ5AFnXyEIpsDZF9W2n1KjT7w7Zw8ENUPQhGni/2JC9RVwJkeHvKBTEPTNBuLLwIKy7/Uj7nVsmp11m4nTMtOiJjmWveR9+7ZCsI51Jy/mV6NDjmnfzMvTI2rkaW4luuAr2WxdQDTMRqwmgjXasWFjQ16oVQiBU1lk5Pv37wZnYzEVINR+CMpjO5LZvxt78jSHZnPkeVYKBP2KA+KYxQTesb1mZt8TB6SxDB59x2zGT0FcgbMRLQdQeYphOgtxwmhrGvpuJuPFle0K8lvmyTK722FBRJGO+dSs1cnUm0z01SbjeeW2FSHLZB272mEx/EZVeAHSn1+jk48PUtSAvuqdGH2chsnXmQpyFn1VO1SZrGNXOyyFV0MAGwq3lGPedDX48nyZN9aWbns7zJsQDWqYEPsR8w0rVhXwXWcFpuJYwOR/IEBsfBMaimMBg5aP0cU4W1qMM4fdlnDhqNuMCK/lH9liVB63LqDmtEtfgNaPTMOVmIPnfJFlAXcuFpowIR1XwoQz13ojz7KAzltOe505M+504OFBywLet2XrrkC9FnkzF5rffYRLx1yKSPmhYtS589GSl4NnOdnwZRnoIVKQ3zKvJT8Hde4ClJfM7J3LJ1z4ww37LzRmohGPavJwvyAXPYaBXiItdBsG7hU60VGraz7UZIq8EuDP2KVzqZ9+SeAFesQXQxQQpl/pmA4LRhw3VWEVGdoIM8hYvXkBwdtaMx+C3zgZEfl5ETJWGfZ8Jgyf0yf/oVyR0zl5GiyRNxNaDPkJI1cJvVmrE+/LIoxcmxGsMftdtgV5MZyxRTe4O95O+FRBCJQS/LkzCBwhfK4gjHdqHZcAZ+1yTFvIL10J1qizJ6yFElmD7eH1JUI4lc0+RtgsgAUjjoOaFhFwJtv6xMSpKWpPTCs88tVHFAiTvo2g+pg88q3oAIoDLnCqnj2xBtTNbuGZVd7yBlSZ36iSXmVcPLMmUiI5Nn76C9hjIuCDVgWzAAAAAElFTkSuQmCC",alt:"",onClick:function(){return h(!l)}})}),(0,k.jsxs)("form",{className:P.form,onSubmit:function(a){a.preventDefault(),s({message:c}),i(""),h(!1)},children:[(0,k.jsx)("input",{className:P.input,value:c,name:"message",onChange:function(a){var s=a.target.value;i(s)},placeholder:"write a message"}),(0,k.jsx)("button",{className:P.button,type:"submit",children:(0,k.jsx)(z.gYb,{className:P.iconSend})}),l&&(0,k.jsx)("div",{className:P.containerEmoji,children:(0,k.jsx)(O.ZP,{onEmojiClick:function(a){var s=a.emoji;i((function(a){return a+s}))},height:400,width:"100%",autoFocusSearch:!1})})]})]})},L=e(6067),U=e(6036),W=e(2215),G=e(3264),K=e(9434);var D=function(a){var s=a.isOpen,e=a.params,n=(0,r.useState)(0),c=(0,t.Z)(n,2),i=c[0],m=c[1],o=(0,r.useState)(""),l=(0,t.Z)(o,2),u=l[0],_=l[1];return(0,r.useEffect)((function(){W.W.on("room",(function(a){var s=a.data.users;m(s.length),_(s)}))}),[]),(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("div",{className:h,children:[(0,k.jsxs)("div",{className:S,children:[(0,k.jsxs)("p",{className:E,children:["Room: ",e.room]}),(0,k.jsxs)("p",{className:b,children:["Users online: ",i]})]}),(0,k.jsx)("ul",{className:A,children:u&&u.map((function(a,s){var e=a.name,n=a.avatar;return(0,k.jsxs)("li",{className:R,children:[(0,k.jsx)("img",{className:C,src:n,alt:"avatar"}),(0,k.jsx)("p",{className:j,children:e})]},s)}))})]}),s&&(0,k.jsxs)("div",{className:J,children:[(0,k.jsxs)("div",{className:V,children:[(0,k.jsxs)("p",{className:Q,children:["Room: ",e.room]}),(0,k.jsxs)("p",{className:M,children:["Users online: ",i]})]}),(0,k.jsx)("ul",{className:A,children:u&&u.map((function(a,s){var e=a.name,n=a.avatar;return(0,k.jsxs)("li",{className:I,children:[(0,k.jsx)("img",{className:C,src:n,alt:"avatar"}),(0,k.jsx)("p",{className:Z,children:e})]},s)}))})]})]})},X=function(a){return a.message.items};var Y=function(a){var s=a.params,e={items:(0,K.v9)(X)}.items;return(0,k.jsx)(k.Fragment,{children:e.map((function(a,e){var n=a.user,t=a.message,r=n.avatar?n.avatar:L;return n.name===s.name?(0,k.jsxs)("div",{className:v,children:[(0,k.jsx)("img",{src:r,alt:"avatar",className:p}),(0,k.jsxs)("div",{className:f,children:[(0,k.jsx)("p",{className:_,children:t}),(0,k.jsxs)("div",{className:g,children:[(0,k.jsx)("p",{className:w}),(0,k.jsx)("p",{className:j,children:n.name})]})]})]},e):(0,k.jsxs)("div",{className:x,children:[(0,k.jsx)("img",{src:r,alt:"avatar",className:p}),(0,k.jsxs)("div",{className:N,children:[(0,k.jsx)("p",{className:u,children:t}),(0,k.jsxs)("div",{className:F,children:[(0,k.jsx)("p",{className:w}),(0,k.jsx)("p",{className:d,children:n.name})]})]})]},e)}))})};var H=function(a){var s=a.state,e=a.params;return(0,k.jsx)(k.Fragment,{children:s.map((function(a,s){var n=a.user,t=a.message,r=n.avatar?n.avatar:L;return n.name===e.name?(0,k.jsxs)("div",{className:v,children:[(0,k.jsx)("img",{src:r,alt:"avatar",className:p}),(0,k.jsxs)("div",{className:f,children:[(0,k.jsx)("p",{className:_,children:t}),(0,k.jsxs)("div",{className:g,children:[(0,k.jsx)("p",{className:w}),(0,k.jsx)("p",{className:j,children:n.name})]})]})]},s):(0,k.jsxs)("div",{className:x,children:[(0,k.jsx)("img",{src:r,alt:"avatar",className:p}),(0,k.jsxs)("div",{className:N,children:[(0,k.jsx)("p",{className:u,children:t}),(0,k.jsxs)("div",{className:F,children:[(0,k.jsx)("p",{className:w}),(0,k.jsx)("p",{className:d,children:n.name})]})]})]},s)}))})},q=function(){var a=(0,r.useRef)(null),s=(0,r.useState)(!1),e=(0,t.Z)(s,2),h=e[0],u=e[1],_=(0,r.useState)([]),d=(0,t.Z)(_,2),j=d[0],x=d[1],v=(0,c.TH)().search,f=(0,r.useState)({room:"",user:"",avatar:L}),N=(0,t.Z)(f,2),p=N[0],C=N[1],A=(0,K.I0)();(0,r.useEffect)((function(){p.room&&A((0,G._)(p.room))}),[A,p.room]),(0,r.useEffect)((function(){var a=Object.fromEntries(new URLSearchParams(v));C(a),W.W.emit("join",a)}),[v]),(0,r.useEffect)((function(){W.W.on("message",(function(a){var s=a.data;x((function(a){return[].concat((0,n.Z)(a),[s])}))}))}),[]),(0,r.useEffect)((function(){W.W.on("message",(function(a){var s=a.data;A((0,G.z)({params:p,data:s}))}))}),[A,p]),(0,r.useEffect)((function(){g()}),[j]);var g=function(){a.current.scrollIntoView({behavior:"smooth"})};return(0,k.jsxs)("div",{className:m,children:[(0,k.jsxs)("button",{type:"button",className:T,onClick:function(){u(!h)},children:[(0,k.jsx)(U.cKp,{className:y}),"Online"]}),(0,k.jsxs)("div",{className:i,children:[(0,k.jsx)("div",{className:o,children:(0,k.jsxs)("div",{className:l,children:[(0,k.jsx)(Y,{params:p}),(0,k.jsx)(H,{state:j,params:p}),(0,k.jsx)("div",{ref:a})]})}),(0,k.jsx)(D,{isOpen:h,params:p})]}),(0,k.jsx)(B,{onSubmit:function(a){var s=a.message;s&&W.W.emit("send",{message:s,params:p})}})]})};var $=function(){return(0,k.jsx)("div",{children:(0,k.jsx)(q,{})})}},6067:function(a,s,e){a.exports=e.p+"static/media/bot.5e07e4ff49733c98e02b.jpg"}}]);
//# sourceMappingURL=332.3c240a85.chunk.js.map