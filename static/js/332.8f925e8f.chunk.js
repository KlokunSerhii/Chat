"use strict";(self.webpackChunkchat_front=self.webpackChunkchat_front||[]).push([[332],{2215:function(a,s,e){e.d(s,{W:function(){return n}});var n=e(1608).ZP.connect("https://chat-back-end-6mf9.onrender.com")},7332:function(a,s,e){e.r(s),e.d(s,{default:function(){return $}});var n=e(3433),t=e(9439),r=e(2791),c=e(7689),i="Chat_ChatBox__5ZAoT",m="Chat_chat__bfife",o="Chat_container__x4T-U",l="Chat_containerChat__Lhq9v",h="Chat_containerRoom__Ft6lv",u="Chat_user__evBqE",_="Chat_you__hMvGG",d="Chat_nameUser__vfIBc",j="Chat_nameYou__VZPFa",v="Chat_containerUser__Q1JIv",x="Chat_containerYou__g+1NX",f="Chat_messageContainerYou__CTOXm",N="Chat_messageContainerUser__Mq12M",p="Chat_avatar__bWlGc",C="Chat_avatarRoom__HoV7f",A="Chat_roomList__FzAQu",g="Chat_infoMessage__Lqgqk",F="Chat_infoMessageUser__QAr08",w="Chat_time__EHUT+",S="Chat_room__GBRuQ",M="Chat_users__e2umP",Z="Chat_roomOnline__kvcwi",E="Chat_roomItem__niZ0n",b="Chat_containerRoomMobile__j3Agh",J="Chat_roomMobile__OiSPu",R="Chat_usersMobile__ZdRxq",V="Chat_roomOnlineMobile__6BwDU",I="Chat_nameMobile__c5KFz",O="Chat_roomItemMobile__kd8G-",T="Chat_buttonOpen__fwsPF",P="Chat_iconOpen__MJQiV",Q=e(833),B={container:"ChatForm_container__vJpgc",input:"ChatForm_input__z6MKn",iconContainer:"ChatForm_iconContainer__GbisE",icon:"ChatForm_icon__-x6XD",iconSend:"ChatForm_iconSend__gZs18",button:"ChatForm_button__51Eh9",containerEmoji:"ChatForm_containerEmoji__mYFHS"},U=e(8820),z=e(184);var G=function(a){var s=a.onSubmit,e=(0,r.useState)(""),n=(0,t.Z)(e,2),c=n[0],i=n[1],m=(0,r.useState)(!1),o=(0,t.Z)(m,2),l=o[0],h=o[1];return(0,z.jsxs)("div",{className:B.container,children:[(0,z.jsx)("div",{className:B.iconContainer,children:(0,z.jsx)("img",{className:B.icon,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAADcklEQVR4nO1ZS0hUURgeLKjoZTsNJQjt/FfT8TXOLrNdUJSt2kQFQpFCj4XmKtMhaJGPFrVpY4vMKRVpEVQwlKJzTsagbsIeWIhMRO3MRzRfnOPb1Dl37nVmpDnwweU8v++c/5z7n/84HImUSIlkOQGOJLzNLAan6+D0FJwGIdhPcDaloL5pEJyeqDqyLhxJsSfeT6kQ5AFnXyEIpsDZF9W2n1KjT7w7Zw8ENUPQhGni/2JC9RVwJkeHvKBTEPTNBuLLwIKy7/Uj7nVsmp11m4nTMtOiJjmWveR9+7ZCsI51Jy/mV6NDjmnfzMvTI2rkaW4luuAr2WxdQDTMRqwmgjXasWFjQ16oVQiBU1lk5Pv37wZnYzEVINR+CMpjO5LZvxt78jSHZnPkeVYKBP2KA+KYxQTesb1mZt8TB6SxDB59x2zGT0FcgbMRLQdQeYphOgtxwmhrGvpuJuPFle0K8lvmyTK722FBRJGO+dSs1cnUm0z01SbjeeW2FSHLZB272mEx/EZVeAHSn1+jk48PUtSAvuqdGH2chsnXmQpyFn1VO1SZrGNXOyyFV0MAGwq3lGPedDX48nyZN9aWbns7zJsQDWqYEPsR8w0rVhXwXWcFpuJYwOR/IEBsfBMaimMBg5aP0cU4W1qMM4fdlnDhqNuMCK/lH9liVB63LqDmtEtfgNaPTMOVmIPnfJFlAXcuFpowIR1XwoQz13ojz7KAzltOe505M+504OFBywLet2XrrkC9FnkzF5rffYRLx1yKSPmhYtS589GSl4NnOdnwZRnoIVKQ3zKvJT8Hde4ClJfM7J3LJ1z4ww37LzRmohGPavJwvyAXPYaBXiItdBsG7hU60VGraz7UZIq8EuDP2KVzqZ9+SeAFesQXQxQQpl/pmA4LRhw3VWEVGdoIM8hYvXkBwdtaMx+C3zgZEfl5ETJWGfZ8Jgyf0yf/oVyR0zl5GiyRNxNaDPkJI1cJvVmrE+/LIoxcmxGsMftdtgV5MZyxRTe4O95O+FRBCJQS/LkzCBwhfK4gjHdqHZcAZ+1yTFvIL10J1qizJ6yFElmD7eH1JUI4lc0+RtgsgAUjjoOaFhFwJtv6xMSpKWpPTCs88tVHFAiTvo2g+pg88q3oAIoDLnCqnj2xBtTNbuGZVd7yBlSZ36iSXmVcPLMmUiI5Nn76C9hjIuCDVgWzAAAAAElFTkSuQmCC",alt:"",onClick:function(){return h(!l)}})}),(0,z.jsxs)("form",{className:B.form,onSubmit:function(a){a.preventDefault(),s({message:c}),i(""),h(!1)},children:[(0,z.jsx)("input",{className:B.input,value:c,name:"message",onChange:function(a){var s=a.target.value;i(s)},placeholder:"write a message"}),(0,z.jsx)("button",{className:B.button,type:"submit",children:(0,z.jsx)(U.gYb,{className:B.iconSend})}),l&&(0,z.jsx)("div",{className:B.containerEmoji,children:(0,z.jsx)(Q.ZP,{onEmojiClick:function(a){var s=a.emoji;i((function(a){return a+s}))},height:400,width:"100%",autoFocusSearch:!1})})]})]})},L=e(6067),k=e(6036),y=e(2215),K=e(3264),D=e(9434);var W=function(a){var s=a.isOpen,e=a.params,n=(0,r.useState)(0),c=(0,t.Z)(n,2),i=c[0],m=c[1],o=(0,r.useState)(""),l=(0,t.Z)(o,2),u=l[0],_=l[1];return(0,r.useEffect)((function(){y.W.on("room",(function(a){var s=a.data.users;m(s.length),_(s)}))}),[]),(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)("div",{className:h,children:[(0,z.jsxs)("div",{className:Z,children:[(0,z.jsxs)("p",{className:S,children:["Room: ",e.room]}),(0,z.jsxs)("p",{className:M,children:["Users online: ",i]})]}),(0,z.jsx)("ul",{className:A,children:u&&u.map((function(a,s){var e=a.name,n=a.avatar;return(0,z.jsxs)("li",{className:E,children:[(0,z.jsx)("img",{className:C,src:n,alt:"avatar"}),(0,z.jsx)("p",{className:j,children:e})]},s)}))})]}),s&&(0,z.jsxs)("div",{className:b,children:[(0,z.jsxs)("div",{className:V,children:[(0,z.jsxs)("p",{className:J,children:["Room: ",e.room]}),(0,z.jsxs)("p",{className:R,children:["Users online: ",i]})]}),(0,z.jsx)("ul",{className:A,children:u&&u.map((function(a,s){var e=a.name,n=a.avatar;return(0,z.jsxs)("li",{className:O,children:[(0,z.jsx)("img",{className:C,src:n,alt:"avatar"}),(0,z.jsx)("p",{className:I,children:e})]},s)}))})]})]})},X=function(a){return a.message.items};var q=function(a){var s=a.params,e={items:(0,D.v9)(X)}.items;return(0,z.jsx)(z.Fragment,{children:e.map((function(a,e){var n=a.user,t=a.message,r=n.avatar?n.avatar:L;return n.name===s.name?(0,z.jsxs)("div",{className:x,children:[(0,z.jsx)("img",{src:r,alt:"avatar",className:p}),(0,z.jsxs)("div",{className:f,children:[(0,z.jsx)("p",{className:_,children:t}),(0,z.jsxs)("div",{className:g,children:[(0,z.jsx)("p",{className:w}),(0,z.jsx)("p",{className:j,children:n.name})]})]})]},e):(0,z.jsxs)("div",{className:v,children:[(0,z.jsx)("img",{src:r,alt:"avatar",className:p}),(0,z.jsxs)("div",{className:N,children:[(0,z.jsx)("p",{className:u,children:t}),(0,z.jsxs)("div",{className:F,children:[(0,z.jsx)("p",{className:w}),(0,z.jsx)("p",{className:d,children:n.name})]})]})]},e)}))})};var Y=function(a){var s=a.state,e=a.params;return(0,z.jsx)(z.Fragment,{children:s.map((function(a,s){var n=a.user,t=a.message,r=n.avatar?n.avatar:L;return n.name===e.name?(0,z.jsxs)("div",{className:x,children:[(0,z.jsx)("img",{src:r,alt:"avatar",className:p}),(0,z.jsxs)("div",{className:f,children:[(0,z.jsx)("p",{className:_,children:t}),(0,z.jsxs)("div",{className:g,children:[(0,z.jsx)("p",{className:w}),(0,z.jsx)("p",{className:j,children:n.name})]})]})]},s):(0,z.jsxs)("div",{className:v,children:[(0,z.jsx)("img",{src:r,alt:"avatar",className:p}),(0,z.jsxs)("div",{className:N,children:[(0,z.jsx)("p",{className:u,children:t}),(0,z.jsxs)("div",{className:F,children:[(0,z.jsx)("p",{className:w}),(0,z.jsx)("p",{className:d,children:n.name})]})]})]},s)}))})},H=function(){var a=(0,r.useRef)(null),s=(0,r.useState)(!1),e=(0,t.Z)(s,2),h=e[0],u=e[1],_=(0,r.useState)([]),d=(0,t.Z)(_,2),j=d[0],v=d[1],x=(0,c.TH)().search,f=(0,r.useState)({room:"",user:"",avatar:L}),N=(0,t.Z)(f,2),p=N[0],C=N[1],A=(0,D.I0)();(0,r.useEffect)((function(){p.room&&A((0,K._)(p.room))}),[A,p.room]),(0,r.useEffect)((function(){var a=Object.fromEntries(new URLSearchParams(x));C(a),y.W.emit("join",a)}),[x]),(0,r.useEffect)((function(){y.W.on("message",(function(a){var s=a.data;v((function(a){return[].concat((0,n.Z)(a),[s])}))}))}),[]),(0,r.useEffect)((function(){y.W.on("message",(function(a){var s=a.data;A((0,K.z)({params:p,data:s}))}))}),[A,p]),(0,r.useEffect)((function(){g()}),[j]);var g=function(){a.current.scrollIntoView({behavior:"smooth"})};return(0,z.jsxs)("div",{className:m,children:[(0,z.jsxs)("button",{type:"button",className:T,onClick:function(){u(!h)},children:[(0,z.jsx)(k.cKp,{className:P}),"Online"]}),(0,z.jsxs)("div",{className:i,children:[(0,z.jsx)("div",{className:o,children:(0,z.jsxs)("div",{className:l,children:[(0,z.jsx)(q,{params:p}),(0,z.jsx)(Y,{state:j,params:p}),(0,z.jsx)("div",{ref:a})]})}),(0,z.jsx)(W,{isOpen:h,params:p})]}),(0,z.jsx)(G,{onSubmit:function(a){var s=a.message;s&&y.W.emit("send",{message:s,params:p})}})]})};var $=function(){return(0,z.jsx)("div",{children:(0,z.jsx)(H,{})})}},6067:function(a,s,e){a.exports=e.p+"static/media/bot.5e07e4ff49733c98e02b.jpg"}}]);
//# sourceMappingURL=332.8f925e8f.chunk.js.map